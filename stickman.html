<!DOCTYPE html> 
<html class="no-js">
<head>

<script type="text/javascript">

var context, Stickman = {};

function draw(){
    context = document.getElementById('canvas').getContext('2d');
    Stickman.startX=100;
    Stickman.startY=175;
            
    drawStickMan();
    drawSpeechBubble("Hello");
    Stickman.startX=500;    
    drawStickMan();
}

function drawStickMan(){
    context.lineWidth="5";
    Stickman.headSize = 30;
    Stickman.bodyLength = 120;
    Stickman.stride = 50;

    drawHead();
    drawBody();
    drawLegs();
    drawArms();

    context.stroke();
}

function drawHead(){
    context.moveTo(Stickman.startX,Stickman.startY);
    context.beginPath();
    context.arc(Stickman.startX, Stickman.startY, Stickman.headSize, 0, Math.PI*2, true); 
    context.closePath();
}

function drawBody(){
    context.moveTo(Stickman.startX, Stickman.startY+Stickman.headSize);
    context.lineTo(Stickman.startX, Stickman.startY+Stickman.bodyLength);
}

function drawLegs(){
    var footY = Stickman.startY+(Stickman.bodyLength*2);
    context.lineTo(Stickman.startX - Stickman.stride, footY);
    context.moveTo(Stickman.startX, Stickman.startY + Stickman.bodyLength)
    context.lineTo(Stickman.startX + Stickman.stride,footY);
}

function drawArms(){
    var leftHandX = Stickman.startX - (Stickman.bodyLength/2);
    var handsY = Stickman.startY+(Stickman.bodyLength/2);
    context.moveTo(leftHandX, handsY);
    context.lineTo(leftHandX + Stickman.bodyLength, handsY);
}

function drawSpeechBubble(speechText){
    var speechBubbleOffset = 35;
    context.lineWidth="2.0";
     var bubbleX = Stickman.startX + speechBubbleOffset,
        bubbleY = Stickman.startY - speechBubbleOffset,
        startRadians=radians(90),
        endRadians=radians(0);

    drawStalk(startRadians,endRadians,50);
    bubbleY=bubbleY-50;
    endRadians = radians(30);
    drawStalk(startRadians,endRadians,100);
    drawBubble(100);
    fillText();

    function drawStalk(startAngle, endAngle, radius){
        context.beginPath();
        context.arc(bubbleX,bubbleY, radius, startAngle, endAngle ,true);
        context.stroke();
    }

    function drawBubble(radius){
        context.save();
        context.scale(1, 0.5);
        context.lineWidth="3.0";
        context.beginPath();
        context.arc(bubbleX+70,bubbleY+90, radius, radians(80), radians(100) ,true);
        context.stroke();
        context.restore();
    }
    
    function fillText(){
        context.fillText(speechText, Stickman.startX+70,Stickman.startY-70);
    }

}

function radians(degrees){
     return (Math.PI/180)*degrees;
}
</script>
</head>
<body onLoad="draw();">
<canvas id="canvas" width="800" height="400"></canvas>
</div>
</body>
</html>
